# 初识ElasticSearch

## 倒排索引

举一个例子：
1.请说出包含 光 的诗句？
2.请背诵静夜思

静夜思一诗中包含  光，但是为何在提到 光 的诗句时，没有立刻联想到静夜思？
在这个场景中，我们的大脑存储的是正向索引，诗的标题相当于一个key，诗的内容相当于value，只有给出了key，才能查找（联想）到value

### 倒排索引是什么？
首先将 床前明月光 这一句根据特定的规则，拆分为不同的词条：term 这个概念非常重要
先不考虑规则的细节，我们假定上面这句诗句拆分为： 床 前 床前 明 月 明月 光 月光
这样我们就能得到这样一张"表"

| Key(term)      | Value |
| --------- | -----:|
| 床  | 床前明月光 |
| 前     |   床前明月光 |
| 明月      |   床前明月光，明月几时有 |

微调一下 倒排索引的规则，在value存储诗的唯一标题：

| Key(term)      | Value |
| --------- | -----:|
| 床  | 《静夜思》 |
| 前     |   《静夜思》 |
| 明月      |   《静夜思》，《水调歌头》 |

### 定义
将文档中的内容进行分词，形成词条，然后记录词条和数据的唯一标识的对应关系

## Elasticsearch
### Elasticsearch特点
* Elasticsearch是一个基于Lucene的搜索服务器

> Lucene是一个开源的全文检索工具包，但并不是一个完整的检索引擎，更接近于一个全文检索引擎的框架，Lucene提供了一个简单却强大的应用程序接口（API），能够做全文索引和搜寻

* Elasticsearch是一个分布式，高扩展，高实时的搜索与数据分析引擎
* 基于RestFul Web接口
* Elasticsearch是用JAVA语言开发的开源搜索项目

### 应用场景
* 搜索：海量数据的查询
* 日志数据的分析
* 实时数据分析

### ES与Mysql可以互相代替吗？
* Mysql有事务性，ES没有
* ES没有物理外键的特性，如果对数据的强一致性要求高的场景不适用
* 一般使用场景下，Mysql负责存储数据，ES负责搜索数据
